<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKYIOUS - Blog Post</title>
    <link rel="stylesheet" href="../styles.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        .post-container {
            padding-top: 100px;
            padding-bottom: 60px;
        }
        
        .post-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .post-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            line-height: 1.3;
        }
        
        .post-meta {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .post-category {
            background-color: rgba(79, 70, 229, 0.1);
            color: var(--primary-color);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 500;
        }
        
        .post-date, .post-read-time {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--gray-600);
            font-size: 0.9rem;
        }
        
        .post-author {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0 auto 30px;
            max-width: fit-content;
        }
        
        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
        }
        
        .author-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .author-info {
            flex: 1;
        }
        
        .author-name {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .author-role {
            color: var(--gray-600);
            font-size: 0.85rem;
        }
        
        .post-featured-image {
            width: 100%;
            height: 400px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .post-featured-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .post-content {
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
        }
        
        .post-content p {
            margin-bottom: 20px;
            font-size: 1.05rem;
        }
        
        .post-content h2 {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 40px 0 20px;
        }
        
        .post-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 30px 0 15px;
        }
        
        .post-content ul, .post-content ol {
            margin-bottom: 20px;
            padding-left: 20px;
        }
        
        .post-content li {
            margin-bottom: 10px;
        }
        
        .post-content blockquote {
            padding: 20px;
            background-color: var(--gray-100);
            border-left: 4px solid var(--primary-color);
            margin: 30px 0;
            font-style: italic;
        }
        
        .post-content img {
            max-width: 100%;
            border-radius: var(--border-radius);
            margin: 30px 0;
        }
        
        .post-content code {
            background-color: var(--gray-100);
            padding: 2px 5px;
            border-radius: 4px;
            font-family: monospace;
        }
        
        .post-content pre {
            background-color: var(--gray-900);
            color: var(--text-light);
            padding: 20px;
            border-radius: var(--border-radius);
            overflow-x: auto;
            margin: 30px 0;
        }
        
        .post-content pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        
        .post-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 40px 0;
        }
        
        .post-tag {
            background-color: var(--gray-100);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--gray-700);
        }
        
        .post-share {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px 0;
            border-top: 1px solid var(--gray-200);
            border-bottom: 1px solid var(--gray-200);
            margin-bottom: 40px;
        }
        
        .share-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--gray-100);
            color: var(--gray-700);
            transition: var(--transition);
        }
        
        .share-btn:hover {
            background-color: var(--primary-color);
            color: var(--text-light);
        }
        
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 50px;
            gap: 20px;
        }
        
        .post-nav-item {
            flex: 1;
            max-width: 48%;
            padding: 20px;
            background-color: var(--text-light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }
        
        .post-nav-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .post-nav-label {
            font-size: 0.85rem;
            color: var(--gray-600);
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .post-nav-title {
            font-weight: 600;
            font-size: 1.1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .related-posts {
            margin-top: 70px;
        }
        
        .related-posts h2 {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .related-posts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
        }
        
        .not-found {
            text-align: center;
            padding: 100px 20px;
        }
        
        .not-found h2 {
            font-size: 2rem;
            margin-bottom: 15px;
        }
        
        .not-found p {
            color: var(--gray-600);
            margin-bottom: 30px;
        }
        
        @media (max-width: 992px) {
            .related-posts-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .post-title {
                font-size: 2rem;
            }
            
            .post-featured-image {
                height: 300px;
            }
            
            .post-navigation {
                flex-direction: column;
            }
            
            .post-nav-item {
                max-width: 100%;
            }
            
            .related-posts-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">SKYIOUS</div>
                <ul class="nav-links">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#about">About</a></li>
                    <li><a href="../index.html#projects">Projects</a></li>
                    <li><a href="../index.html#features">Features</a></li>
                    <li><a href="index.html" class="active">Blog</a></li>
                    <li><a href="../resources/">Resources</a></li>
                    <li><a href="../index.html#contact">Contact</a></li>
                </ul>
                <div class="nav-actions">
                    <div class="account-link">
                        <a href="../account/login.html" id="loginLink">Login</a>
                        <a href="../account/dashboard.html" id="dashboardLink" style="display: none;">My Account</a>
                    </div>
                    <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark/light mode">
                        <i class="fas fa-moon"></i>
                        <i class="fas fa-sun"></i>
                    </button>
                    <div class="menu-toggle">
                        <i class="fas fa-bars"></i>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <div class="post-container">
        <div class="container">
            <div id="postContent">
                <!-- Post content will be loaded here dynamically -->
            </div>
            
            <div id="postNotFound" class="not-found" style="display: none;">
                <h2>Post Not Found</h2>
                <p>The blog post you are looking for does not exist or has been removed.</p>
                <a href="index.html" class="btn primary-btn">Back to Blog</a>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <div class="footer-logo">SKYIOUS</div>
                    <p class="footer-tagline">Building innovative digital solutions since 2019</p>
                </div>
                <div class="footer-links">
                    <div class="footer-links-group">
                        <h3>Navigation</h3>
                        <a href="../index.html">Home</a>
                        <a href="../index.html#about">About</a>
                        <a href="../index.html#projects">Projects</a>
                        <a href="../index.html#features">Features</a>
                        <a href="index.html">Blog</a>
                        <a href="../resources/">Resources</a>
                        <a href="../index.html#contact">Contact</a>
                    </div>
                    <div class="footer-links-group">
                        <h3>Resources</h3>
                        <a href="index.html">Blog</a>
                        <a href="../resources/tutorials.html">Tutorials</a>
                        <a href="../resources/documentation.html">Documentation</a>
                    </div>
                </div>
                <div class="footer-newsletter">
                    <h3>Stay Updated</h3>
                    <p>Subscribe to our newsletter for the latest updates</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your email address">
                        <button type="submit" class="btn primary-btn">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="social-links">
                    <a href="https://github.com/SKYIOUS" target="_blank">
                        <img src="../assets/github-avatar.jpg" alt="GitHub" class="social-avatar">
                    </a>
                    <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                </div>
                <div class="copyright">
                    &copy; <span id="currentYear"></span> SKYIOUS. All rights reserved.
                </div>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../security.js"></script>
    <script src="../scripts.js"></script>
    <script>
        $(document).ready(function() {
            // Check if user is logged in
            if (Security.isLoggedIn()) {
                $('#loginLink').hide();
                $('#dashboardLink').show();
            } else {
                $('#loginLink').show();
                $('#dashboardLink').hide();
            }
            
            // Get post slug from URL
            const urlParams = new URLSearchParams(window.location.search);
            const slug = urlParams.get('slug');
            
            if (!slug) {
                // If no slug provided, show not found message
                showNotFound();
                return;
            }
            
            // Load post
            loadPost(slug);
            
            // Load post by slug
            function loadPost(slug) {
                const blogs = JSON.parse(localStorage.getItem('skyious_blogs') || '[]');
                const post = blogs.find(blog => blog.slug === slug);
                
                if (!post) {
                    showNotFound();
                    return;
                }
                
                // Set page title
                document.title = `${post.title} - SKYIOUS Blog`;
                
                // Format date
                const date = new Date(post.created);
                const formattedDate = date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Estimate read time (1 min per 200 words)
                const wordCount = post.content ? post.content.split(/\s+/).length : 500; // Default if content not provided
                const readTime = Math.ceil(wordCount / 200);
                
                // Create post tags
                const tags = ['Web', 'Design', post.category, 'SKYIOUS'];
                const tagsHtml = tags.map(tag => `<span class="post-tag">${tag}</span>`).join('');
                
                // Create related posts
                const relatedPosts = blogs
                    .filter(blog => blog.id !== post.id && blog.category === post.category)
                    .slice(0, 3);
                
                let relatedPostsHtml = '';
                
                if (relatedPosts.length > 0) {
                    relatedPostsHtml = `
                        <div class="related-posts">
                            <h2>Related Posts</h2>
                            <div class="related-posts-grid">
                                ${relatedPosts.map(blog => createRelatedPostCard(blog)).join('')}
                            </div>
                        </div>
                    `;
                }
                
                // Create navigation links
                const allPosts = [...blogs].sort((a, b) => new Date(b.created) - new Date(a.created));
                const currentIndex = allPosts.findIndex(blog => blog.id === post.id);
                
                let prevPost = null;
                let nextPost = null;
                
                if (currentIndex > 0) {
                    prevPost = allPosts[currentIndex - 1];
                }
                
                if (currentIndex < allPosts.length - 1) {
                    nextPost = allPosts[currentIndex + 1];
                }
                
                let navigationHtml = `
                    <div class="post-navigation">
                `;
                
                if (prevPost) {
                    navigationHtml += `
                        <a href="post.html?slug=${prevPost.slug}" class="post-nav-item">
                            <div class="post-nav-label"><i class="fas fa-arrow-left"></i> Previous Post</div>
                            <div class="post-nav-title">${prevPost.title}</div>
                        </a>
                    `;
                } else {
                    navigationHtml += `<div></div>`;
                }
                
                if (nextPost) {
                    navigationHtml += `
                        <a href="post.html?slug=${nextPost.slug}" class="post-nav-item">
                            <div class="post-nav-label">Next Post <i class="fas fa-arrow-right"></i></div>
                            <div class="post-nav-title">${nextPost.title}</div>
                        </a>
                    `;
                } else {
                    navigationHtml += `<div></div>`;
                }
                
                navigationHtml += `</div>`;
                
                // Create post content HTML
                const postContentHtml = `
                    <div class="post-header">
                        <h1 class="post-title">${post.title}</h1>
                        <div class="post-meta">
                            <span class="post-category">${post.category}</span>
                            <span class="post-date"><i class="far fa-calendar-alt"></i> ${formattedDate}</span>
                            <span class="post-read-time"><i class="far fa-clock"></i> ${readTime} min read</span>
                        </div>
                        <div class="post-author">
                            <div class="author-avatar">
                                <img src="${post.author.avatar}" alt="${post.author.name}">
                            </div>
                            <div class="author-info">
                                <div class="author-name">${post.author.name}</div>
                                <div class="author-role">${post.author.role}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="post-featured-image">
                        <img src="${post.image}" alt="${post.title}">
                    </div>
                    
                    <div class="post-content">
                        ${getFullContent(post)}
                        
                        <div class="post-tags">
                            ${tagsHtml}
                        </div>
                        
                        <div class="post-share">
                            <a href="#" class="share-btn" title="Share on Facebook"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="share-btn" title="Share on Twitter"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="share-btn" title="Share on LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                            <a href="#" class="share-btn" title="Copy Link"><i class="fas fa-link"></i></a>
                        </div>
                    </div>
                    
                    ${navigationHtml}
                    
                    ${relatedPostsHtml}
                `;
                
                // Set post content
                $('#postContent').html(postContentHtml);
                
                // Initialize share buttons
                initShareButtons(post);
            }
            
            // Create related post card
            function createRelatedPostCard(blog) {
                const date = new Date(blog.created);
                const formattedDate = date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                return `
                    <article class="blog-card">
                        <div class="blog-image">
                            <img src="${blog.image}" alt="${blog.title}">
                        </div>
                        <div class="blog-content">
                            <div class="blog-meta">
                                <span class="blog-category">${blog.category}</span>
                                <span class="blog-date"><i class="far fa-calendar-alt"></i> ${formattedDate}</span>
                            </div>
                            <h3 class="blog-title">${blog.title}</h3>
                            <a href="post.html?slug=${blog.slug}" class="btn text-btn">Read More <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </article>
                `;
            }
            
            // Get full content for post
            function getFullContent(post) {
                // If post has full content, use that
                if (post.content && post.content !== 'Full content of the blog post goes here...') {
                    return post.content;
                }
                
                // Otherwise, generate dummy content based on the title and excerpt
                return `
                    <p>${post.excerpt}</p>
                    
                    <h2>Introduction</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus lacinia odio vitae vestibulum. Donec in efficitur leo. In hac habitasse platea dictumst. Sed ullamcorper venenatis erat, ac tincidunt turpis tincidunt sit amet. Duis eget lacus nec erat congue dictum.</p>
                    
                    <p>Aenean facilisis, purus nec pulvinar dictum, quam velit venenatis justo, sed dictum nisi dolor eget urna. Donec consequat, ipsum nec posuere elementum, lacus justo congue nibh, et varius urna eros eu purus. Aliquam ornare cursus dui, in scelerisque nulla tincidunt ac.</p>
                    
                    <blockquote>
                        ${post.title.split(':')[0]} is an essential part of modern web development. Understanding its principles can drastically improve your development workflow.
                    </blockquote>
                    
                    <h2>Key Concepts</h2>
                    <p>Fusce ac ultrices risus, non consectetur ligula. Maecenas eu purus accumsan, ultrices neque in, efficitur metus. Phasellus quis facilisis magna, sit amet aliquam est. Sed ultricies lacus nec lectus tempor pharetra.</p>
                    
                    <ul>
                        <li>Sed ullamcorper venenatis erat, ac tincidunt turpis tincidunt sit amet</li>
                        <li>Aenean facilisis, purus nec pulvinar dictum</li>
                        <li>Donec consequat, ipsum nec posuere elementum</li>
                        <li>Fusce ac ultrices risus, non consectetur ligula</li>
                    </ul>
                    
                    <h3>Implementation Strategies</h3>
                    <p>Etiam aliquet, metus auctor tincidunt feugiat, diam nibh finibus augue, a porttitor orci eros vel velit. Aliquam et purus quis ex molestie tincidunt vitae nec est. Integer varius magna quam, vel finibus ligula aliquam a.</p>
                    
                    <pre><code>// Example code
function example() {
  const result = doSomething();
  return result.map(item => {
    return processItem(item);
  });
}
                    </code></pre>
                    
                    <h2>Best Practices</h2>
                    <p>Donec lacinia mi rutrum sagittis consequat. Donec sagittis, tellus sodales sollicitudin commodo, risus urna interdum risus, ut faucibus ligula nulla eget augue. Donec id est feugiat, euismod lorem nec, vestibulum tortor.</p>
                    
                    <ol>
                        <li>Begin with a clear understanding of the requirements</li>
                        <li>Follow established patterns and principles</li>
                        <li>Test thoroughly at each stage of development</li>
                        <li>Optimize for performance and user experience</li>
                    </ol>
                    
                    <h2>Conclusion</h2>
                    <p>Suspendisse potenti. Donec at dui in sapien maximus viverra quis ut lectus. Nullam non felis ut est placerat egestas. Pellentesque felis nibh, lacinia non rhoncus eu, gravida at nibh. Donec rutrum, nisi at faucibus commodo, magna odio faucibus velit, id lobortis dui purus vel neque.</p>
                `;
            }
            
            // Initialize share buttons
            function initShareButtons(post) {
                const shareUrl = window.location.href;
                const shareTitle = post.title;
                
                $('.post-share a').on('click', function(e) {
                    e.preventDefault();
                    
                    const platform = $(this).attr('title').split(' ').pop().toLowerCase();
                    
                    if (platform === 'facebook') {
                        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`, 'facebook-share', 'width=580, height=296');
                    } else if (platform === 'twitter') {
                        window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(shareTitle)}`, 'twitter-share', 'width=550, height=235');
                    } else if (platform === 'linkedin') {
                        window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`, 'linkedin-share', 'width=750, height=450');
                    } else if (platform === 'link') {
                        navigator.clipboard.writeText(shareUrl).then(() => {
                            alert('Link copied to clipboard!');
                        }).catch(err => {
                            console.error('Could not copy text: ', err);
                        });
                    }
                });
            }
            
            // Show post not found message
            function showNotFound() {
                $('#postContent').hide();
                $('#postNotFound').show();
            }
        });
    </script>
</body>
</html> 